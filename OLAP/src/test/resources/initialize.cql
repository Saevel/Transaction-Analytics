USE transaction_analytics_integration_tests;
DROP TABLE IF EXISTS user_account;
CREATE TABLE IF NOT EXISTS user_account(user_id BIGINT PRIMARY KEY, account_id BIGINT, country TEXT, age INT, balance DOUBLE);
DROP INDEX IF EXISTS user_account_country;
CREATE INDEX IF NOT EXISTS user_account_country ON user_account(country);
DROP INDEX IF EXISTS user_account_age;
CREATE INDEX IF NOT EXISTS user_account_age ON user_account(age);
DROP TABLE IF EXISTS cash_operation;
CREATE TABLE IF NOT EXISTS cash_operation(id UUID PRIMARY KEY, timestamp BIGINT, source_account_id BIGINT, target_account_id BIGINT, kind TEXT, amount DOUBLE);
DROP INDEX IF EXISTS cash_operation_timestamp;
CREATE INDEX IF NOT EXISTS cash_operation_timestamp ON cash_operation(timestamp);
DROP INDEX IF EXISTS cash_operation_kind;
CREATE INDEX IF NOT EXISTS cash_operation_kind ON cash_operation(kind);
DROP TABLE IF EXISTS user_data;
CREATE TABLE user_data(user_id BIGINT PRIMARY KEY, age INT);